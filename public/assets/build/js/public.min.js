"use strict";function AddonifyPerfectScrollBar(o){new PerfectScrollbar(o,{wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20})}!function(v){v(document).ready(function(){var o,d=v("body"),e=v("#addonify-compare-dock-thumbnails"),a=v("#addonify-compare-dock-message"),c=v("#addonify-compare-search-modal"),n=v("#addonify-compare-search-results"),r=v("#addonify-compare-modal"),i=v("#addonify-compare-modal-content"),t=v("#addonify-compare-modal-overlay"),s=v("#addonify-compare-search-modal-overlay"),m=addonifyCompareProductsJSObject.compareItemsCount;function l(){0===m?d.removeClass("addonify-compare-dock-is-visible"):d.addClass("addonify-compare-dock-is-visible")}function p(){1<m?v("#addonify-compare-dock-compare-btn").fadeIn():v("#addonify-compare-dock-compare-btn").fadeOut()}function f(){m<2?(a.removeClass("addonify-compare-hidden"),v("#addonify-compare-dock-inner").removeClass("full")):(a.addClass("addonify-compare-hidden"),v("#addonify-compare-dock-inner").addClass("full"))}function u(){0==m?(v("#addonify-compare-products-notice").removeClass("addonify-compare-hidden"),v("#addonify-compare-products-table").hide()):v("#addonify-compare-products-notice").addClass("addonify-compare-hidden")}function y(){n.html(""),v("#addonify-compare-search-query").val(""),c.addClass("addonify-compare-hidden"),s.addClass("addonify-compare-hidden")}console.log(addonifyCompareProductsJSObject),p(),0!=Number(m)?d.addClass("addonify-compare-dock-is-visible"):d.removeClass("addonify-compare-dock-is-visible"),d.on("click","button.addonify-cp-button, #addonify-compare-search-results .item-add",function(o){o.preventDefault();var d=v(this),a=d.data("product_id");console.log(a),v.ajax({url:addonifyCompareProductsJSObject.ajaxURL,type:"POST",data:{action:addonifyCompareProductsJSObject.actionAddProduct,product_id:a,nonce:addonifyCompareProductsJSObject.nonce},success:function(o){console.log(o),o.success?(m=o.items_count,d.addClass("selected").attr("disabled","disabled"),d.hasClass("item-add")&&y(),e.append(o.product_image),v('.addonify-compare-dock-thumbnail[data-product_id="'+a+'"]').append(o.product_image).removeClass("loading"),u(),l(),p(),f()):console.log(o.message)}})}),d.on("click",".addonify-compare-dock-remove-item-btn, .addonify-remove-compare-products",function(o){o.preventDefault();var d=v(this),a=d.data("product_id");v.ajax({url:addonifyCompareProductsJSObject.ajaxURL,type:"POST",data:{action:addonifyCompareProductsJSObject.actionRemoveProduct,product_id:a,nonce:addonifyCompareProductsJSObject.nonce},success:function(o){console.log(o),o.success?(m=o.items_count,d.hasClass("addonify-compare-table-remove-btn")&&(v('td[data-product_id="'+a+'"]').remove(),v('button.addonify-cp-button[data-product_id="'+a+'"]').removeClass("selected").removeAttr("disabled")),d.hasClass("addonify-compare-docker-remove-button")&&(v('button.addonify-cp-button[data-product_id="'+a+'"]').removeClass("selected").removeAttr("disabled"),v('.addonify-compare-dock-components[data-product_id="'+a+'"]').remove()),v('.addonify-compare-dock-components[data-product_id="'+a+'"]')&&v('.addonify-compare-dock-components[data-product_id="'+a+'"]').remove(),u(),l(),p(),f()):console.log(o.message)}})}),d.on("click","#addonify-compare-dock-compare-btn",function(o){o.preventDefault(),t.removeClass("addonify-compare-hidden"),d.removeClass("addonify-compare-dock-is-visible"),r.removeClass("addonify-compare-hidden"),i.addClass("loading"),v.ajax({url:addonifyCompareProductsJSObject.ajaxURL,type:"POST",data:{action:addonifyCompareProductsJSObject.actionGetCompareContent},success:function(o){o&&(i.removeClass("loading").html(o),r.removeClass("addonify-compare-hidden"))}})}),d.on("click","#addonify-compare-dock-add-item",function(){d.removeClass("addonify-compare-dock-is-visible"),s.removeClass("addonify-compare-hidden"),c.removeClass("addonify-compare-hidden")}),d.on("click","#addonify-compare-search-close-button, #addonify-compare-search-modal-overlay",function(){d.addClass("addonify-compare-dock-is-visible"),y()}),d.on("keyup","#addonify-compare-search-query",function(){var d=v(this).val();clearTimeout(o),o=setTimeout(function(){var o;(o=d).length&&(v("#addonify-compare-search-results").html("").addClass("loading"),o={action:addonifyCompareProductsJSObject.action_search_items,query:o,nonce:addonifyCompareProductsJSObject.nonce},v.post(addonifyCompareProductsJSObject.ajaxURL,o,function(o){v("#addonify-compare-search-results").removeClass("loading").html(o)}))},500)}),d.on("click","#addonify-compare-close-button, #addonify-compare-modal-overlay",function(){t.addClass("addonify-compare-hidden"),l(),r.addClass("addonify-compare-hidden"),d.removeClass("addonify-compare-modal-is-visible")})})}(jQuery),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".addonify-compare-scrollbar").forEach(function(o){null!=o&&AddonifyPerfectScrollBar(o)})});