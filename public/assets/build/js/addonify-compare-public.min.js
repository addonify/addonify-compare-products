!function(u){"use strict";u(document).ready(function(){var a,n=[],d=u("#addonify-compare-footer"),t=u("#addonify-footer-thumbnails"),o=u("#addonify-compare-footer-message"),e=u("#addonify-compare-search-modal"),i=u("#addonify-compare-search-results"),c=u("#addonify-compare-modal");function r(o){var a;o.length&&(a={action:addonify_compare_ajax_object.action_get_thumbnails,ids:o},u.getJSON(addonify_compare_ajax_object.ajax_url,a,function(o){u.each(o,function(o,a){u('.addonify-footer-thumbnail[data-product_id="'+o+'"]').append('<img src="'+a+'">').removeClass("loading")})}))}function s(o){var a=o.split(","),n="";a.forEach(function(o){n+='<div class="addonify-footer-components" data-product_id="'+o+'"><div class="sortable addonify-footer-thumbnail loading" data-product_id="'+o+'"><span class="addonify-footer-remove" data-product_id="'+o+'"></span></div></div>'}),t.append(n)}function f(){1<n.length?o.fadeOut():o.fadeIn()}u("#addonify-compare-products-footer-bar a, button.addonify-cp-button").click(function(o){o.preventDefault()}),function(){{var o;(function(){var o=Cookies.get("addonify_selected_product_ids");if(!o)return;n=u.map(o.split(","),function(o){return parseInt(o)})})(),n.length&&(s(o=n.join(",")),r(o),d.removeClass("hidden"))}f()}(),u("body").on("click","button.addonify-cp-button, #addonify-compare-search-results .item-add",function(){var o=u(this).data("product_id");o&&(n.includes(o)||(n.push(o),Cookies.set("addonify_selected_product_ids",n),s(o.toString()),r(n.join(",")),e.addClass("hidden"),d.hasClass("hidden")&&d.removeClass("hidden"),f()))}),u("body").on("click","span.addonify-footer-remove",function(){var o=u(this).data("product_id");if(o){for(var a=0;a<n.length;a++)n[a]==o&&n.splice(a,1);Cookies.set("addonify_selected_product_ids",n),u(this).parents(".addonify-footer-components").remove(),f()}}),u("body").on("click","#addonify-footer-add",function(){e.removeClass("hidden")}),u("body").on("click","#addonify-compare-search-close-button",function(){e.addClass("hidden")}),u("body").on("keyup","#addonify-compare-search-query",function(){var o=u(this).val();clearTimeout(a),a=setTimeout(function(){!function(o){if(!o.length)return;i.html("").addClass("loading");var a={action:addonify_compare_ajax_object.action_search_items,query:o};u.get(addonify_compare_ajax_object.ajax_url,a,function(o){i.removeClass("loading").html(o)})}(o)},500)}),u("body").on("click","#addonify-footer-compare-btn",function(){c.removeClass("hidden"),function(o){if(!o)return;var a={action:addonify_compare_ajax_object.action_get_compare_contents,ids:o};u.get(addonify_compare_ajax_object.ajax_url,a,function(o){u("#addonify-compare-modal-content").html(o)})}(n.join(","))}),u("body").on("click","#addonify-compare-close-button",function(){c.addClass("hidden")})})}(jQuery),function(o){"use strict";o(document).ready(function(){o("body").on("click",".addonify-qvm-button",function(){})})}(jQuery);